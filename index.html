<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ìœ í˜•ë³„ ì •ì‚° ê³„ì‚°ê¸°</title>

<style>
body {
  background: #f4f6f8;
  font-family: Pretendard, Arial, sans-serif;
  padding: 40px;
}

.container {
  max-width: 760px;
  margin: auto;
  background: white;
  border-radius: 16px;
  padding: 32px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.08);
}

h1 {
  margin-top: 0;
  text-align: center;
}

h2 {
  font-size: 18px;
  margin-bottom: 12px;
  border-left: 4px solid #4f46e5;
  padding-left: 8px;
}

.section {
  margin-bottom: 28px;
}

.row {
  display: flex;
  gap: 12px;
}

label {
  flex: 1;
  font-size: 14px;
}

input {
  width: 100%;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #d1d5db;
}

button {
  padding: 12px 18px;
  border-radius: 10px;
  border: none;
  background: #4f46e5;
  color: white;
  font-size: 15px;
  cursor: pointer;
}

button.secondary {
  background: #6b7280;
}

button:hover {
  opacity: 0.9;
}

.result {
  margin-top: 28px;
  background: #f9fafb;
  border-radius: 12px;
  padding: 20px;
  font-size: 14px;
}

.type-result {
  background: #eef2ff;
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 10px;
}

/* modal */
.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
}

.modal-content {
  width: 420px;
  background: white;
  border-radius: 14px;
  padding: 24px;
  margin: 120px auto;
}

.type-row {
  display: flex;
  gap: 8px;
  margin-bottom: 8px;
}
</style>
</head>

<body>

<div class="container">
  <h1>ìœ í˜•ë³„ ì •ì‚° ê³„ì‚°ê¸°</h1>

  <div class="section">
    <h2>ì „ì²´ ì¸ì›</h2>
    <div class="row">
      <label>ì–´ë¥¸ ì´ ì¸ì›
        <input type="number" id="totalAdult" value="8">
      </label>
      <label>ì•„ì´ ì´ ì¸ì›
        <input type="number" id="totalChild" value="10">
      </label>
    </div>
  </div>

  <div class="section">
    <h2>ë¹„ìš©</h2>
    <div class="row">
      <label>ì „ì²´ ê³µí†µ ë¹„ìš©
        <input type="number" id="totalCost">
      </label>
      <label>ì–´ë¥¸ ì „ìš© ë¹„ìš©
        <input type="number" id="adultCost">
      </label>
      <label>ì•„ì´ ì „ìš© ë¹„ìš©
        <input type="number" id="childCost">
      </label>
    </div>
  </div>

  <div class="row" style="margin-bottom:20px">
    <button onclick="openModal()">ê°€êµ¬ ìœ í˜• ì„¤ì •</button>
    <button onclick="calculate()">ì •ì‚°</button>
  </div>

  <div id="result" class="result"></div>
</div>

<!-- modal -->
<div class="modal" id="modal">
  <div class="modal-content">
    <h2>ì¶œë ¥í•  ê°€êµ¬ ìœ í˜•</h2>

    <div id="typeList"></div>

    <button onclick="addType()">+ ìœ í˜• ì¶”ê°€</button>
    <div style="margin-top:16px; text-align:right">
      <button class="secondary" onclick="closeModal()">ë‹«ê¸°</button>
    </div>
  </div>
</div>

<script>
let types = [
  { adult: 1, child: 1 },
  { adult: 2, child: 1 }
];

function openModal() {
  renderTypes();
  document.getElementById("modal").style.display = "block";
}

function closeModal() {
  document.getElementById("modal").style.display = "none";
}

function addType() {
  types.push({ adult: 1, child: 0 });
  renderTypes();
}

function renderTypes() {
  const list = document.getElementById("typeList");
  list.innerHTML = "";
  types.forEach((t, i) => {
    list.innerHTML += `
      <div class="type-row">
        <input type="number" value="${t.adult}"
          onchange="types[${i}].adult=this.value">
        <input type="number" value="${t.child}"
          onchange="types[${i}].child=this.value">
        <span>ì–´ë¥¸ / ì•„ì´</span>
      </div>
    `;
  });
}

function calculate() {
  const totalAdult = +totalAdultInput.value;
  const totalChild = +totalChildInput.value;

  const totalCost = +document.getElementById("totalCost").value;
  const adultCost = +document.getElementById("adultCost").value;
  const childCost = +document.getElementById("childCost").value;

  const totalPeople = totalAdult + totalChild;

  const perPerson = totalCost / totalPeople;
  const perAdult = adultCost / totalAdult;
  const perChild = childCost / totalChild;

  let html = `
    <strong>ê³„ì‚° ê¸°ì¤€</strong><br>
    - ê³µí†µë¹„ 1ì¸ë‹¹: ${perPerson.toFixed(0)}ì›<br>
    - ì–´ë¥¸ 1ì¸ë‹¹: ${perAdult.toFixed(0)}ì›<br>
    - ì•„ì´ 1ì¸ë‹¹: ${perChild.toFixed(0)}ì›
    <hr>
    <strong>ê°€êµ¬ ìœ í˜•ë³„ ì •ì‚°</strong><br><br>
  `;

  types.forEach(t => {
    const sum =
      (t.adult + t.child) * perPerson +
      t.adult * perAdult +
      t.child * perChild;

    html += `
      <div class="type-result">
        ì–´ë¥¸ ${t.adult}ëª… + ì•„ì´ ${t.child}ëª…<br>
        ğŸ‘‰ ${sum.toFixed(0)}ì›
      </div>
    `;
  });

  document.getElementById("result").innerHTML = html;
}
</script>

</body>
</html>
